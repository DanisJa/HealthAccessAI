# ğŸ› ï¸ Replit Prompt: Role-Based Healthcare Web App with Supabase + AI Chatbot

## ğŸ’¡ Project Title  
**IoT Health Dashboard with Role-Based Access and AI Assistant**

---

## ğŸ¯ Project Description  
Create a secure, modern healthcare web app powered by **Supabase** as the backend and **OpenAI (or other LLM)** for AI-powered chatbot assistance.  
The system supports two user roles â€“ **Patients** and **Doctors** â€“ each with tailored access to features like medical records, prescriptions, health tracking, and communication.  
An integrated **AI chatbot** supports patients and doctors with health-related queries and app guidance.

---

## ğŸ‘¥ User Roles
- **Patient**
- **Doctor**

Use Supabase **Row-Level Security (RLS)** and **role-based policies** to control access to specific tables and API routes.

---

## ğŸ” Authentication & Authorization
- Supabase Auth with email/password
- On sign-up, users are assigned role: `patient` or `doctor`
- RLS policies to restrict data access by role and user ID
- Optional: Admin dashboard for role promotion

---

## ğŸ§  Core Features by Role

### ğŸ‘¨â€âš•ï¸ Doctor Features
- âœ… View all patient medical history  
- ğŸ“ Write and save medical reports (`medical_reports` table)  
- ğŸ§¾ Create/edit medical orders (`medical_orders` table)  
- ğŸ“Š Insert and update patient parameters:  
  - Weight, height, blood pressure, sugar level  
- ğŸ–Šï¸ Write prescriptions linked to patients  
- ğŸ” View all medications for any patient  
- ğŸ” Securely share patient info with other doctors  
- ğŸ¤– Chatbot assistant for diagnosis suggestions & symptom checks  

### ğŸ§‘â€ğŸ¦° Patient Features
- ğŸ“„ View own medical history, orders, and prescriptions  
- ğŸ’Š Track current and past medications with dosage  
- ğŸ“… Make doctor appointments (insert to `appointments` table)  
- â° Set reminders (medication, vaccinations, etc.)  
- ğŸ“ˆ Input personal health data (stored in `parameters` table)  
- ğŸ¤– Chatbot assistant for medication queries, appointment help, and FAQ  

---

## ğŸ’¬ AI Chatbot Integration
- Use OpenAI (e.g., GPT-4 Turbo via API) or another LLM provider
- Route user prompts to `/api/chatbot` endpoint
- Example chatbot use cases:
  - â€œWhat does my blood pressure value mean?â€
  - â€œHelp me schedule a follow-up.â€
  - â€œSummarize patient report X.â€
- Separate chatbot persona for:
  - **Patient Guidance**
  - **Doctor Assistant**

---

## ğŸ–¼ï¸ Frontend Stack (React or Next.js suggested)
- Supabase client SDK for auth and data access
- Role-based dashboard:
  - `PatientDashboard.tsx`
  - `DoctorDashboard.tsx`
- Components:
  - AppointmentCalendar
  - MedicationTimeline
  - ParameterInputForm
  - ChatbotInterface (floating or side widget)
- Protected routes with role guards
- Real-time updates using Supabase subscriptions (if needed)

---

## ğŸ—ƒï¸ Backend (Supabase + Edge Functions)
**Tables:**
- `users` (with role metadata)
- `medical_reports`
- `medical_orders`
- `prescriptions`
- `parameters`
- `appointments`
- `reminders`

**Other Setup:**
- Enable Supabase RLS for all sensitive tables
- Use Supabase **Edge Functions** for:
  - Chatbot API integration
  - Secure data handling and validation

---

## âš™ï¸ Stretch Features (optional)
- Upload lab reports/images via Supabase Storage
- Simulate IoT sensor data streaming (e.g., real-time vitals)
- Analytics Dashboard for trends in patient parameters
- Multi-language support (e.g., English & Bosnian)
- Admin audit log for doctor actions

---

## âœ… Deliverables Checklist
- [ ] Supabase Auth with RLS
- [ ] Functional dashboards per user role
- [ ] AI chatbot integration
- [ ] Health data input and real-time updates
- [ ] Secure role-based route protection
- [ ] Elegant and responsive UI

